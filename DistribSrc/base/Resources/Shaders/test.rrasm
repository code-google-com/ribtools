.data
	Cs		global varying color
	Os		global varying color
	Ci		global varying color
	Oi		global varying color
	N		global varying normal
	I		global varying vector

	Ka		parameter uniform float 1
	Kd		parameter uniform float 1

	Nf		temporary varying normal

	Koe		constant uniform normal 1 0 0

.code

surface
	normalize	$v0		N
	;faceforward	$v0	$v0	I
	;mulvv		$v0	$v0	Koe
	;movvv		Ci	$v0
	;mulvv		Ci	I	$v0
	;movvv		Ci	I 
	faceforward	Nf	$v0	I
	movvv		Ci	Nf		// 
	;movvv		Ci	I		// 
	;addvv		Ci	Ci	Koe
	movvv		Oi	Os		// Oi = Os

	ret
