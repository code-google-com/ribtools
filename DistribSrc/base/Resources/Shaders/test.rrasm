.data
	Cs		global varying color
	Os		global varying color
	Ci		global varying color
	Oi		global varying color
	N		global varying normal
	I		global varying vector

	Ka		parameter uniform float 1
	Kd		parameter uniform float 1

	Nf		temporary varying normal

	Koe		constant uniform normal 1 0 0

.code

surface

__main:
	normalize	$v0		N
	;faceforward	$v0	$v0	I
	;mul.vvv		$v0	$v0	Koe
	;mov.vv			Ci	$v0
	;mul.vvv		Ci	I	$v0
	;mov.vv			Ci	I 
	faceforward		Nf	$v0	I
	mov.vv			Ci	Nf		// 
	;mov.vv			Ci	I		// 
	;add.vvv		Ci	Ci	Koe
	mov.vv			Oi	Os		// Oi = Os

	ret
