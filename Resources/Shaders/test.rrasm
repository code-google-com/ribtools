surface

.data
	Cs		parameter varying color
	Os		parameter varying color
	Ci		parameter varying color
	Oi		parameter varying color
	N		parameter varying normal
	I		parameter varying vector

	Ka		parameter uniform float 1
	Kd		parameter uniform float 1

	Nf		temporary varying normal

	Koe		constant uniform normal 1 0 0

.code
	normalize	$v0		N
	;faceforward	$v0	$v0	I
	;mulvv		$v0	$v0	Koe
	;movvv		Ci	$v0
	;mulvv		Ci	I	$v0
	;movvv		Ci	I 
	faceforward	Nf	$v0	I
	movvv		Ci	Nf		// 
	;movvv		Ci	I		// 
	;addvv		Ci	Ci	Koe
	movvv		Oi	Os		// Oi = Os
